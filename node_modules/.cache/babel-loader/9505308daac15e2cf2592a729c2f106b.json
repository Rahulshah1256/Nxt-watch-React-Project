{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rahul Kumar\\\\Downloads\\\\Nxt-watch-React-Project\\\\src\\\\components\\\\VideoDetailView\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport Header from '../Header';\nimport NavigationBar from '../NavigationBar';\nimport nxtWatchContext from '../../context/nxtWatchContext';\nimport FailureView from '../FailureView';\nimport PlayVideoView from '../PlayVideoView';\nimport { VideoDetailViewContainer, LoaderContainer } from './styledComponents';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nconst VideoDetailView = ({\n  match\n}) => {\n  _s();\n  const [apiStatus, setApiStatus] = useState(apiStatusConstants.initial);\n  const [videoDetails, setVideoDetails] = useState([]);\n  const [isLiked, setIsLiked] = useState(false);\n  const [isDisLiked, setIsDisLiked] = useState(false);\n  useEffect(() => {\n    getVideoDetails();\n  }, []);\n  const formattedData = data => ({\n    id: data.video_details.id,\n    title: data.video_details.title,\n    videoUrl: data.video_details.video_url,\n    thumbnailUrl: data.video_details.thumbnail_url,\n    viewCount: data.video_details.view_count,\n    publishedAt: data.video_details.published_at,\n    description: data.video_details.description,\n    name: data.video_details.channel.name,\n    profileImageUrl: data.video_details.channel.profile_image_url,\n    subscriberCount: data.video_details.channel.subscriber_count\n  });\n  const getVideoDetails = async () => {\n    setApiStatus(apiStatusConstants.inProgress);\n    const {\n      id\n    } = match.params;\n    const jwtToken = Cookies.get('jwt_token');\n    const url = `https://apis.ccbp.in/videos/${id}`;\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`\n      },\n      method: 'GET'\n    };\n    try {\n      const response = await fetch(url, options);\n      if (response.ok) {\n        const data = await response.json();\n        const updatedData = formattedData(data);\n        setVideoDetails(updatedData);\n        setApiStatus(apiStatusConstants.success);\n      } else {\n        setApiStatus(apiStatusConstants.failure);\n      }\n    } catch (error) {\n      console.error('Error fetching video details:', error);\n      setApiStatus(apiStatusConstants.failure);\n    }\n  };\n  const clickLiked = () => {\n    setIsLiked(prevState => !prevState.isLiked);\n    setIsDisLiked(false);\n  };\n  const clickDisLiked = () => {\n    setIsDisLiked(prevState => !prevState.isDisLiked);\n    setIsLiked(false);\n  };\n  const renderLoadingView = () => /*#__PURE__*/_jsxDEV(LoaderContainer, {\n    \"data-testid\": \"loader\",\n    children: /*#__PURE__*/_jsxDEV(Loader, {\n      type: \"ThreeDots\",\n      color: \"#0b69ff\",\n      height: \"50\",\n      width: \"50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n  const renderPlayVideoView = () => /*#__PURE__*/_jsxDEV(PlayVideoView, {\n    videoDetails: videoDetails,\n    clickLiked: clickLiked,\n    clickDisLiked: clickDisLiked,\n    isLiked: isLiked,\n    isDisLiked: isDisLiked\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n  const onRetry = () => {\n    getVideoDetails();\n  };\n  const renderFailureView = () => /*#__PURE__*/_jsxDEV(FailureView, {\n    onRetry: onRetry\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 35\n  }, this);\n  const renderVideoDetailView = () => {\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return renderPlayVideoView();\n      case apiStatusConstants.failure:\n        return renderFailureView();\n      case apiStatusConstants.inProgress:\n        return renderLoadingView();\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(nxtWatchContext.Consumer, {\n    children: value => {\n      const {\n        isDarkTheme\n      } = value;\n      const bgColor = isDarkTheme ? '#0f0f0f' : '#f9f9f9';\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(NavigationBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VideoDetailViewContainer, {\n          \"data-testid\": \"videoItemDetails\",\n          bgColor: bgColor,\n          children: renderVideoDetailView()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoDetailView, \"6RiisoRtIKSgP6TboWs+kaCHtxA=\");\n_c = VideoDetailView;\nexport default VideoDetailView;\nvar _c;\n$RefreshReg$(_c, \"VideoDetailView\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Cookies","Loader","Header","NavigationBar","nxtWatchContext","FailureView","PlayVideoView","VideoDetailViewContainer","LoaderContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","apiStatusConstants","initial","success","failure","inProgress","VideoDetailView","match","_s","apiStatus","setApiStatus","videoDetails","setVideoDetails","isLiked","setIsLiked","isDisLiked","setIsDisLiked","getVideoDetails","formattedData","data","id","video_details","title","videoUrl","video_url","thumbnailUrl","thumbnail_url","viewCount","view_count","publishedAt","published_at","description","name","channel","profileImageUrl","profile_image_url","subscriberCount","subscriber_count","params","jwtToken","get","url","options","headers","Authorization","method","response","fetch","ok","json","updatedData","error","console","clickLiked","prevState","clickDisLiked","renderLoadingView","children","type","color","height","width","fileName","_jsxFileName","lineNumber","columnNumber","renderPlayVideoView","onRetry","renderFailureView","renderVideoDetailView","Consumer","value","isDarkTheme","bgColor","_c","$RefreshReg$"],"sources":["C:/Users/Rahul Kumar/Downloads/Nxt-watch-React-Project/src/components/VideoDetailView/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport Loader from 'react-loader-spinner'\r\nimport Header from '../Header'\r\nimport NavigationBar from '../NavigationBar'\r\nimport nxtWatchContext from '../../context/nxtWatchContext'\r\nimport FailureView from '../FailureView'\r\nimport PlayVideoView from '../PlayVideoView'\r\nimport { VideoDetailViewContainer, LoaderContainer } from './styledComponents'\r\n\r\nconst apiStatusConstants = {\r\n  initial: 'INITIAL',\r\n  success: 'SUCCESS',\r\n  failure: 'FAILURE',\r\n  inProgress: 'IN_PROGRESS',\r\n}\r\n\r\nconst VideoDetailView = ({ match }) => {\r\n  const [apiStatus, setApiStatus] = useState(apiStatusConstants.initial)\r\n  const [videoDetails, setVideoDetails] = useState([])\r\n  const [isLiked, setIsLiked] = useState(false)\r\n  const [isDisLiked, setIsDisLiked] = useState(false)\r\n\r\n  useEffect(() => {\r\n    getVideoDetails()\r\n  }, [])\r\n\r\n  const formattedData = data => ({\r\n    id: data.video_details.id,\r\n    title: data.video_details.title,\r\n    videoUrl: data.video_details.video_url,\r\n    thumbnailUrl: data.video_details.thumbnail_url,\r\n    viewCount: data.video_details.view_count,\r\n    publishedAt: data.video_details.published_at,\r\n    description: data.video_details.description,\r\n    name: data.video_details.channel.name,\r\n    profileImageUrl: data.video_details.channel.profile_image_url,\r\n    subscriberCount: data.video_details.channel.subscriber_count,\r\n  })\r\n\r\n  const getVideoDetails = async () => {\r\n    setApiStatus(apiStatusConstants.inProgress)\r\n    const { id } = match.params\r\n    const jwtToken = Cookies.get('jwt_token')\r\n    const url = `https://apis.ccbp.in/videos/${id}`\r\n    const options = {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      method: 'GET',\r\n    }\r\n    try {\r\n      const response = await fetch(url, options)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        const updatedData = formattedData(data)\r\n        setVideoDetails(updatedData)\r\n        setApiStatus(apiStatusConstants.success)\r\n      } else {\r\n        setApiStatus(apiStatusConstants.failure)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching video details:', error)\r\n      setApiStatus(apiStatusConstants.failure)\r\n    }\r\n  }\r\n\r\n  const clickLiked = () => {\r\n    setIsLiked(prevState => !prevState.isLiked)\r\n    setIsDisLiked(false)\r\n  }\r\n\r\n  const clickDisLiked = () => {\r\n    setIsDisLiked(prevState => !prevState.isDisLiked)\r\n    setIsLiked(false)\r\n  }\r\n\r\n  const renderLoadingView = () => (\r\n    <LoaderContainer data-testid=\"loader\">\r\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\r\n    </LoaderContainer>\r\n  )\r\n\r\n  const renderPlayVideoView = () => (\r\n    <PlayVideoView\r\n      videoDetails={videoDetails}\r\n      clickLiked={clickLiked}\r\n      clickDisLiked={clickDisLiked}\r\n      isLiked={isLiked}\r\n      isDisLiked={isDisLiked}\r\n    />\r\n  )\r\n\r\n  const onRetry = () => {\r\n    getVideoDetails()\r\n  }\r\n\r\n  const renderFailureView = () => <FailureView onRetry={onRetry} />\r\n\r\n  const renderVideoDetailView = () => {\r\n    switch (apiStatus) {\r\n      case apiStatusConstants.success:\r\n        return renderPlayVideoView()\r\n      case apiStatusConstants.failure:\r\n        return renderFailureView()\r\n      case apiStatusConstants.inProgress:\r\n        return renderLoadingView()\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nxtWatchContext.Consumer>\r\n      {value => {\r\n        const { isDarkTheme } = value\r\n        const bgColor = isDarkTheme ? '#0f0f0f' : '#f9f9f9'\r\n\r\n        return (\r\n          <>\r\n            <Header />\r\n            <NavigationBar />\r\n            <VideoDetailViewContainer\r\n              data-testid=\"videoItemDetails\"\r\n              bgColor={bgColor}\r\n            >\r\n              {renderVideoDetailView()}\r\n            </VideoDetailViewContainer>\r\n          </>\r\n        )\r\n      }}\r\n    </nxtWatchContext.Consumer>\r\n  )\r\n}\r\n\r\nexport default VideoDetailView\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}